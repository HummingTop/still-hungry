<template name="postsList">
  {{> search}}
  <!-- <div class="ui four doubling cards">
		{{#each posts}}
  		{{> postItemForList}}
		{{/each}}
    {{#if nextPath}}
      <a class="fluid ui button" href="{{nextPath}}">더보기</a>
    {{else}}
      {{#unless ready}}
        {{> spinner}}
      {{/unless}}
    {{/if}}
  </div> -->
</template>

<template name="search">
  <!-- {{> esInput index="posts" placeholder="Search..." }} -->

  <div class="ui search">
    <div class="ui icon input">
      {{> esInput id="main" index="posts" class="prompt" placeholder="검색어를 입력하세요..." }}
      <i class="search icon"></i>
    </div>
  </div>

  <!-- results -->
  <div class="ui four doubling cards">
    {{#esEach id="main" index="posts"}}
      {{> postItemForList}}
    {{/esEach}}
  </div>

  <!-- {{> esLoadMoreButton class="fluid ui button" index="posts"}} -->
  <div class="search-controls">
    {{> esPagination id="main" renderContro="pagingTemplate" index="posts"}}
  </div>

  {{#ifEsHasNoResults id="main" index="posts"}}
    <div class="no-results">검색 결과가 없습니다</div>
  {{/ifEsHasNoResults}}

  {{#ifEsIsSearching id="main" index="posts"}}
    {{> spinner}}
  {{/ifEsIsSearching}}
</template>

<template name="postItemForList">
  <div class="ui card">
    <a class="image" href="{{pathFor 'postPage'}}">
      {{#if imageUrl}}
        <img src="{{imageUrl}}">
        {{else}}
        <img src="/img/empty_bg.jpg">
      {{/if}}
    </a>
    <div class="content">
      <a class="header" href="{{pathFor 'postPage'}}">{{title}}</a>
      <span class="category">{{tel}}</span>
      <div class="meta">
        <span class="category">{{location.city}} {{location.division}} {{location.address}}</span>
      </div>
      <div class="description">
        <p>{{description}}</p>
      </div>
    </div>
    <div class="extra content">
      <div class="flex-container" style="font-size:0.9em;">
        <div class="flex-1">
          <a id="like_it" href="#">{{likeOrNot}}&nbsp;</a>
        </div>        
        <div class="flex-1">
          <a href="{{pathFor 'postPage'}}">댓글 달기&nbsp;</a>
        </div>
        <div class="flex-1">
          <a href="#">
            <i class="comment outline icon"></i>{{commentsCount}}&nbsp;
            <i class="thumbs outline up icon"></i>{{likes}}
          </a>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="pagingTemplate">
  <div>
    하하하
  </div>
</template>
